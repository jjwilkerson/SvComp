<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Sentence Vector Compressor/Decompressor (SvComp): SvComp</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Sentence Vector Compressor/Decompressor (SvComp)
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">SvComp </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="autotoc_md1"></a>
Overview</h1>
<p>SvComp is a specialized software module designed to complement the SentEncDec project. Its primary function is to compress and decompress vectors, specifically tailored for handling the vector outputs produced by SentEncDec. This module plays a critical role in the workflow of encoding and decoding sentences, enabling efficient manipulation and storage of vector representations.</p>
<p>This project is associated with the paper titled "Return of the RNN: Residual Recurrent Networks for Invertible Sentence Embeddings" which provides in-depth explanations of the concepts, methodologies, and findings that underpin this software. The paper can be accessed <a href="https://arxiv.org/abs/2303.13570v2">here</a>.</p>
<p>For detailed documentation, see <a href="https://jjwilkerson.github.io/SvComp/">SvComp Documentation</a>.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Compatibility</h1>
<p>This software has been developed and tested on Linux. While it may work on other UNIX-like systems, its compatibility with non-Linux operating systems (like Windows or macOS) has not been verified. Users are welcome to try running it on other systems, but should be aware that they may encounter issues or unexpected behavior.</p>
<h1><a class="anchor" id="autotoc_md3"></a>
Dependencies</h1>
<p>To build and use SvComp, you'll need the following dependencies:</p>
<ul>
<li><b>C++ Compiler:</b> GCC (versions 6.x - 12.2) or an equivalent compiler.</li>
<li><b>CUDA Toolkit:</b> Version 12.1 - <a href="https://developer.nvidia.com/cuda-downloads">Download CUDA Toolkit</a>.</li>
<li><b>Additional Libraries:</b><ul>
<li>NetLib (another module next to this one).</li>
<li>UTF8-CPP (version 2.3.4) <a href="https://github.com/nemtrif/utfcpp/tree/v2.3.4">Download UTF8-CPP</a>.</li>
<li>JsonCpp (version 1.8.4) <a href="https://github.com/open-source-parsers/jsoncpp/tree/1.8.4">Download JsonCpp</a>.</li>
<li>Boost (version 1.72.0) <a href="https://www.boost.org/users/history/">Download Boost</a>.<ul>
<li>Build the regex, system, and filesystem modules.</li>
</ul>
</li>
<li>CUDA Samples Common <a href="https://github.com/NVIDIA/cuda-samples">Download CUDA Samples</a>.</li>
</ul>
</li>
</ul>
<p>Ensure you have these libraries installed and accessible in your development environment.</p>
<h1><a class="anchor" id="autotoc_md4"></a>
Configuring Dependencies in Eclipse</h1>
<p>If building with Eclipse, it is necessary to configure the dependencies. This involves setting up include paths, library paths, and linking the libraries. Here's how to do it:</p>
<h2><a class="anchor" id="autotoc_md5"></a>
Include Paths</h2>
<ul>
<li>Add the include paths for NetLib, UTF8-CPP, and CUDA Samples Common</li>
<li>Example paths:<ul>
<li>${workspace_loc:/NetLib}</li>
<li>/usr/local/include/utf8</li>
<li>/usr/local/cuda-samples/Common</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md6"></a>
Library Paths</h2>
<ul>
<li>Specify the library paths where Eclipse can find the compiled libraries.</li>
<li>Example paths:<ul>
<li>${workspace_loc:/NetLib/Release}</li>
<li>/usr/local/lib (location of JsonCpp library)</li>
<li>/usr/lib/x86_64-linux-gnu (location of Boost libraries</li>
<li>/usr/local/cuda-12.1/lib64 (location of CUDA libraries</li>
</ul>
</li>
</ul>
<h2><a class="anchor" id="autotoc_md7"></a>
Libraries</h2>
<ul>
<li>Link the libraries in your Eclipse project settings.</li>
<li>Example libraries to link:<ul>
<li>NetLib</li>
<li>boost_regex</li>
<li>boost_system</li>
<li>boost_filesystem</li>
<li>jsoncpp</li>
<li>cublas</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="autotoc_md8"></a>
Building SvComp</h1>
<p>While SvComp was developed using Eclipse with the Nsight plugin, it's not a strict requirement. You can build it as long as you have the CUDA toolkit installed.</p>
<p>Here are the general steps to build SvComp:</p>
<ul>
<li><b>Clone the Repository:</b></li>
</ul>
<div class="fragment"><div class="line">git clone https://github.com/jjwilkerson/SvComp.git</div>
<div class="line">cd SvComp</div>
</div><!-- fragment --><ul>
<li><b>Building:</b> If the above include paths, library paths, and libraries are configured then SvComp can be easily built (as an executable) in Eclipse with the Nsight plugin. It is necessary to set the PROGRAM_VERSION macro to a value of 1 or 2 to determine which executable program is built.</li>
</ul>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadCenter">PROGRAM_VERSION   </th><th class="markdownTableHeadLeft">Program    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyCenter">1   </td><td class="markdownTableBodyLeft">Single training run    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyCenter">2   </td><td class="markdownTableBodyLeft">Make vector index   </td></tr>
</table>
<p>Alternatively, you can build it from the command line using Make by executing one of the following commands. It may be necessary to update paths to nvcc and dependencies in Makefile first. You may also need to change the CUDA hardware versions after "arch=" to match your specific GPU.</p>
<p>Single training run:</p>
<div class="fragment"><div class="line">make</div>
</div><!-- fragment --><p>Make vector index:</p>
<div class="fragment"><div class="line">make index</div>
</div><!-- fragment --><p>Before building a different target, run the following:</p>
<div class="fragment"><div class="line">make clean</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md9"></a>
Usage</h1>
<p>Before running the program, SED_DATASETS_DIR must be defined as an environment variable, with its value being the location of the files of vectors to be decoded and corresponding index files. The SentEncDec project can be run in encode mode to produce the vector files, and this project can be run in index mode to create the corresponding indexes. There should be one file of vectors for training, and another for testing. The files should have the following names:</p>
<ul>
<li>sentvec.out</li>
<li>sentvec.out.ix</li>
<li>sentvec_tune.out</li>
<li>sentvec_tune.out.ix</li>
</ul>
<p>To run as a single training run, place the executable in a new folder along with a config file named config.json. You can use the config.json file in the SvComp source folder as a starting point.</p>
<h1><a class="anchor" id="autotoc_md10"></a>
Contributing</h1>
<p>Contributions to SvComp are welcome. Please ensure to follow the coding standards and submit a pull request for review.</p>
<h1><a class="anchor" id="autotoc_md11"></a>
License</h1>
<p>SvComp is licensed under the MIT License. See the LICENSE file for more details. </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.1
</small></address>
</body>
</html>
